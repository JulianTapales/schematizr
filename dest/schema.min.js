"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _temporalAssertDefined(e,r,t){if(e===t)throw new ReferenceError(r+" is not defined - temporal dead zone");return!0}exports.__esModule=!0;var _temporalUndefined={},idCounter=_temporalUndefined,uniqueId=_temporalUndefined,objectType=_temporalUndefined,iterator=_temporalUndefined,filterer=_temporalUndefined,removeNull=_temporalUndefined,removeEmpty=_temporalUndefined,assemble=_temporalUndefined,disassemble=_temporalUndefined,findById=_temporalUndefined,find=_temporalUndefined,_ramda=require("ramda"),_ramda2=_interopRequireDefault(_ramda);idCounter=1,uniqueId=function(){return _temporalAssertDefined(idCounter,"idCounter",_temporalUndefined),idCounter++},objectType=_ramda2["default"].curry(function(e,r,t){return r=r||e,_ramda2["default"].isArrayLike(t)?r(t):_ramda2["default"].is(Object,t)?e(t):t}),iterator=_ramda2["default"].curry(function(e,r){var t=_temporalUndefined,d=_temporalUndefined;return t=_ramda2["default"].compose((_temporalAssertDefined(iterator,"iterator",_temporalUndefined)&&iterator)(e),e),d=(_temporalAssertDefined(objectType,"objectType",_temporalUndefined)&&objectType)(_ramda2["default"].mapObjIndexed(_temporalAssertDefined(t,"recurse",_temporalUndefined)&&t),_ramda2["default"].map(_temporalAssertDefined(t,"recurse",_temporalUndefined)&&t)),(_temporalAssertDefined(d,"iter",_temporalUndefined)&&d)(r)}),filterer=function(e,r){var t=_temporalUndefined;return t=(_temporalAssertDefined(iterator,"iterator",_temporalUndefined)&&iterator)(function(r){return(_temporalAssertDefined(objectType,"objectType",_temporalUndefined)&&objectType)(e,e,r)}),(_temporalAssertDefined(t,"filtered",_temporalUndefined)&&t)(r)},removeNull=function(e){var r=_temporalUndefined;return r=_ramda2["default"].filter(function(e){return e?!0:!1}),(_temporalAssertDefined(filterer,"filterer",_temporalUndefined)&&filterer)(_temporalAssertDefined(r,"filter",_temporalUndefined)&&r,e)},removeEmpty=function(e){var r=_temporalUndefined;return r=_ramda2["default"].filter(function(e){return!_ramda2["default"].isEmpty(e)}),(_temporalAssertDefined(filterer,"filterer",_temporalUndefined)&&filterer)(_temporalAssertDefined(r,"filter",_temporalUndefined)&&r,e)},exports.assemble=assemble=function(e){var r=_temporalUndefined;return r=(_temporalAssertDefined(objectType,"objectType",_temporalUndefined)&&objectType)(function(e){return _ramda2["default"].assoc("_id",(_temporalAssertDefined(uniqueId,"uniqueId",_temporalUndefined)&&uniqueId)(),e)},function(e){return e}),_ramda2["default"].compose(_temporalAssertDefined(removeNull,"removeNull",_temporalUndefined)&&removeNull,_temporalAssertDefined(iterator,"iterator",_temporalUndefined)&&iterator)(_temporalAssertDefined(r,"addId",_temporalUndefined)&&r,e)},exports.assemble=_temporalAssertDefined(assemble,"assemble",_temporalUndefined)&&assemble,exports.disassemble=disassemble=function(e){var r=_temporalUndefined;return r=(_temporalAssertDefined(objectType,"objectType",_temporalUndefined)&&objectType)(function(e){return _ramda2["default"].dissoc("_id",e)},function(e){return e}),_ramda2["default"].compose(_temporalAssertDefined(removeEmpty,"removeEmpty",_temporalUndefined)&&removeEmpty,_temporalAssertDefined(removeNull,"removeNull",_temporalUndefined)&&removeNull,_temporalAssertDefined(iterator,"iterator",_temporalUndefined)&&iterator)(_temporalAssertDefined(r,"removeId",_temporalUndefined)&&r,e)},exports.disassemble=_temporalAssertDefined(disassemble,"disassemble",_temporalUndefined)&&disassemble,exports.findById=findById=_ramda2["default"].curry(function(e,r,t){var d=_temporalUndefined;return d=function(r){return r._id===t?e(r):r},_ramda2["default"].compose(_temporalAssertDefined(removeNull,"removeNull",_temporalUndefined)&&removeNull,_temporalAssertDefined(iterator,"iterator",_temporalUndefined)&&iterator)(_temporalAssertDefined(d,"replaced",_temporalUndefined)&&d,r)}),exports.findById=_temporalAssertDefined(findById,"findById",_temporalUndefined)&&findById,exports.find=find=_ramda2["default"].curry(function(e,r,t){var d=_temporalUndefined;return d=function(r){return _ramda2["default"].equals(r,t)?e(r):r},_ramda2["default"].compose(_temporalAssertDefined(removeNull,"removeNull",_temporalUndefined)&&removeNull,_temporalAssertDefined(iterator,"iterator",_temporalUndefined)&&iterator)(_temporalAssertDefined(d,"replaced",_temporalUndefined)&&d,r)}),exports.find=_temporalAssertDefined(find,"find",_temporalUndefined)&&find;
